@{
    ViewBag.Title = "Dashboard";
}
    <head>
        <script src="/bundles/jquery" type="text/javascript"></script>
       
        <script>


            window.onload = function () {
                var dps = [];

                var chart = new CanvasJS.Chart("chartContainer", {
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    animationEnabled: true,
                    zoomEnabled: true,
                    toolTip: {
                        contentFormatter: function (e) {
                            var content = "";
                            for (var i = 0; i < e.entries.length; i++) {
                                content = CanvasJS.formatDate(e.entries[i].dataPoint.x, "HH:mm DD/MM/YYYY") +" " + e.entries[i].dataPoint.y+"C";
                            }
                            return content;
                        }
                    },	
                    axisX: {
                        valueFormatString: "HH:mm",
                        labelAngle: -50
                    },
                    title: {
                        text: "Temperature"
                    },
                    data: [{
                        type: "line",
                        xValueType: "dateTime",
                        dataPoints: dps
                    }]
                });

                $.getJSON("/home/TemperatureData?timeSpan=1", addData);


                function addData(data) {
                    for (var i = 0; i < data.length; i++) {
                        dps.push({
                            x: new Date(data[i].X),
                            y: data[i].Y
                        });
                    }
                    chart.render();
                }
            }

        </script>
    </head>

<div class="col-md-12">
    <div class="row">
        <div id="chartContainer" style="width:100%;height:410px" ></div>
    </div>

</div>